(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["npm.create-react-context"],{

/***/ "/tz4":
/*!********************************************************!*\
  !*** ./node_modules/create-react-context/lib/index.js ***!
  \********************************************************/
/*! no static exports found */
/*! exports used: default */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _react = __webpack_require__(/*! react */ "q1tI");

var _react2 = _interopRequireDefault(_react);

var _implementation = __webpack_require__(/*! ./implementation */ "acCH");

var _implementation2 = _interopRequireDefault(_implementation);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

exports.default = _react2.default.createContext || _implementation2.default;
module.exports = exports['default'];

/***/ }),

/***/ "acCH":
/*!*****************************************************************!*\
  !*** ./node_modules/create-react-context/lib/implementation.js ***!
  \*****************************************************************/
/*! no static exports found */
/*! all exports used */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


exports.__esModule = true;

var _react = __webpack_require__(/*! react */ "q1tI");

var _react2 = _interopRequireDefault(_react);

var _propTypes = __webpack_require__(/*! prop-types */ "17x9");

var _propTypes2 = _interopRequireDefault(_propTypes);

var _gud = __webpack_require__(/*! gud */ "fZtv");

var _gud2 = _interopRequireDefault(_gud);

var _warning = __webpack_require__(/*! warning */ "2W6z");

var _warning2 = _interopRequireDefault(_warning);

function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}

function _classCallCheck(instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
}

function _possibleConstructorReturn(self, call) {
  if (!self) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }

  return call && (typeof call === "object" || typeof call === "function") ? call : self;
}

function _inherits(subClass, superClass) {
  if (typeof superClass !== "function" && superClass !== null) {
    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
  }

  subClass.prototype = Object.create(superClass && superClass.prototype, {
    constructor: {
      value: subClass,
      enumerable: false,
      writable: true,
      configurable: true
    }
  });
  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
}

var MAX_SIGNED_31_BIT_INT = 1073741823; // Inlined Object.is polyfill.
// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is

function objectIs(x, y) {
  if (x === y) {
    return x !== 0 || 1 / x === 1 / y;
  } else {
    return x !== x && y !== y;
  }
}

function createEventEmitter(value) {
  var handlers = [];
  return {
    on: function on(handler) {
      handlers.push(handler);
    },
    off: function off(handler) {
      handlers = handlers.filter(function (h) {
        return h !== handler;
      });
    },
    get: function get() {
      return value;
    },
    set: function set(newValue, changedBits) {
      value = newValue;
      handlers.forEach(function (handler) {
        return handler(value, changedBits);
      });
    }
  };
}

function onlyChild(children) {
  return Array.isArray(children) ? children[0] : children;
}

function createReactContext(defaultValue, calculateChangedBits) {
  var _Provider$childContex, _Consumer$contextType;

  var contextProp = '__create-react-context-' + (0, _gud2.default)() + '__';

  var Provider = function (_Component) {
    _inherits(Provider, _Component);

    function Provider() {
      var _temp, _this, _ret;

      _classCallCheck(this, Provider);

      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.emitter = createEventEmitter(_this.props.value), _temp), _possibleConstructorReturn(_this, _ret);
    }

    Provider.prototype.getChildContext = function getChildContext() {
      var _ref;

      return _ref = {}, _ref[contextProp] = this.emitter, _ref;
    };

    Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
      if (this.props.value !== nextProps.value) {
        var oldValue = this.props.value;
        var newValue = nextProps.value;
        var changedBits = void 0;

        if (objectIs(oldValue, newValue)) {
          changedBits = 0; // No change
        } else {
          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;

          if (true) {
            (0, _warning2.default)((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, 'calculateChangedBits: Expected the return value to be a ' + '31-bit integer. Instead received: %s', changedBits);
          }

          changedBits |= 0;

          if (changedBits !== 0) {
            this.emitter.set(nextProps.value, changedBits);
          }
        }
      }
    };

    Provider.prototype.render = function render() {
      return this.props.children;
    };

    return Provider;
  }(_react.Component);

  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = _propTypes2.default.object.isRequired, _Provider$childContex);

  var Consumer = function (_Component2) {
    _inherits(Consumer, _Component2);

    function Consumer() {
      var _temp2, _this2, _ret2;

      _classCallCheck(this, Consumer);

      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }

      return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.state = {
        value: _this2.getValue()
      }, _this2.onUpdate = function (newValue, changedBits) {
        var observedBits = _this2.observedBits | 0;

        if ((observedBits & changedBits) !== 0) {
          _this2.setState({
            value: _this2.getValue()
          });
        }
      }, _temp2), _possibleConstructorReturn(_this2, _ret2);
    }

    Consumer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
      var observedBits = nextProps.observedBits;
      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default
      : observedBits;
    };

    Consumer.prototype.componentDidMount = function componentDidMount() {
      if (this.context[contextProp]) {
        this.context[contextProp].on(this.onUpdate);
      }

      var observedBits = this.props.observedBits;
      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default
      : observedBits;
    };

    Consumer.prototype.componentWillUnmount = function componentWillUnmount() {
      if (this.context[contextProp]) {
        this.context[contextProp].off(this.onUpdate);
      }
    };

    Consumer.prototype.getValue = function getValue() {
      if (this.context[contextProp]) {
        return this.context[contextProp].get();
      } else {
        return defaultValue;
      }
    };

    Consumer.prototype.render = function render() {
      return onlyChild(this.props.children)(this.state.value);
    };

    return Consumer;
  }(_react.Component);

  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = _propTypes2.default.object, _Consumer$contextType);
  return {
    Provider: Provider,
    Consumer: Consumer
  };
}

exports.default = createReactContext;
module.exports = exports['default'];

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3JlYXRlLXJlYWN0LWNvbnRleHQvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcmVhdGUtcmVhY3QtY29udGV4dC9saWIvaW1wbGVtZW50YXRpb24uanMiXSwibmFtZXMiOlsiZXhwb3J0cyIsIl9fZXNNb2R1bGUiLCJfcmVhY3QiLCJyZXF1aXJlIiwiX3JlYWN0MiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfaW1wbGVtZW50YXRpb24iLCJfaW1wbGVtZW50YXRpb24yIiwib2JqIiwiZGVmYXVsdCIsImNyZWF0ZUNvbnRleHQiLCJtb2R1bGUiLCJfcHJvcFR5cGVzIiwiX3Byb3BUeXBlczIiLCJfZ3VkIiwiX2d1ZDIiLCJfd2FybmluZyIsIl93YXJuaW5nMiIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiIsInNlbGYiLCJjYWxsIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwiZW51bWVyYWJsZSIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJNQVhfU0lHTkVEXzMxX0JJVF9JTlQiLCJvYmplY3RJcyIsIngiLCJ5IiwiY3JlYXRlRXZlbnRFbWl0dGVyIiwiaGFuZGxlcnMiLCJvbiIsImhhbmRsZXIiLCJwdXNoIiwib2ZmIiwiZmlsdGVyIiwiaCIsImdldCIsInNldCIsIm5ld1ZhbHVlIiwiY2hhbmdlZEJpdHMiLCJmb3JFYWNoIiwib25seUNoaWxkIiwiY2hpbGRyZW4iLCJBcnJheSIsImlzQXJyYXkiLCJjcmVhdGVSZWFjdENvbnRleHQiLCJkZWZhdWx0VmFsdWUiLCJjYWxjdWxhdGVDaGFuZ2VkQml0cyIsIl9Qcm92aWRlciRjaGlsZENvbnRleCIsIl9Db25zdW1lciRjb250ZXh0VHlwZSIsImNvbnRleHRQcm9wIiwiUHJvdmlkZXIiLCJfQ29tcG9uZW50IiwiX3RlbXAiLCJfdGhpcyIsIl9yZXQiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiYXJncyIsIl9rZXkiLCJhcHBseSIsImNvbmNhdCIsImVtaXR0ZXIiLCJwcm9wcyIsImdldENoaWxkQ29udGV4dCIsIl9yZWYiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwib2xkVmFsdWUiLCJwcm9jZXNzIiwicmVuZGVyIiwiQ29tcG9uZW50IiwiY2hpbGRDb250ZXh0VHlwZXMiLCJvYmplY3QiLCJpc1JlcXVpcmVkIiwiQ29uc3VtZXIiLCJfQ29tcG9uZW50MiIsIl90ZW1wMiIsIl90aGlzMiIsIl9yZXQyIiwiX2xlbjIiLCJfa2V5MiIsInN0YXRlIiwiZ2V0VmFsdWUiLCJvblVwZGF0ZSIsIm9ic2VydmVkQml0cyIsInNldFN0YXRlIiwidW5kZWZpbmVkIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb250ZXh0IiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJjb250ZXh0VHlwZXMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWE7O0FBRWJBLE9BQU8sQ0FBQ0MsVUFBUixHQUFxQixJQUFyQjs7QUFFQSxJQUFJQyxNQUFNLEdBQUdDLG1CQUFPLENBQUMsbUJBQUQsQ0FBcEI7O0FBRUEsSUFBSUMsT0FBTyxHQUFHQyxzQkFBc0IsQ0FBQ0gsTUFBRCxDQUFwQzs7QUFFQSxJQUFJSSxlQUFlLEdBQUdILG1CQUFPLENBQUMsOEJBQUQsQ0FBN0I7O0FBRUEsSUFBSUksZ0JBQWdCLEdBQUdGLHNCQUFzQixDQUFDQyxlQUFELENBQTdDOztBQUVBLFNBQVNELHNCQUFULENBQWdDRyxHQUFoQyxFQUFxQztBQUFFLFNBQU9BLEdBQUcsSUFBSUEsR0FBRyxDQUFDUCxVQUFYLEdBQXdCTyxHQUF4QixH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Im5wbS5jcmVhdGUtcmVhY3QtY29udGV4dC5mNGE4NjRkMmMzM2RjNWNiYTE1OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2ltcGxlbWVudGF0aW9uID0gcmVxdWlyZSgnLi9pbXBsZW1lbnRhdGlvbicpO1xuXG52YXIgX2ltcGxlbWVudGF0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ltcGxlbWVudGF0aW9uKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUNvbnRleHQgfHwgX2ltcGxlbWVudGF0aW9uMi5kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX2d1ZCA9IHJlcXVpcmUoJ2d1ZCcpO1xuXG52YXIgX2d1ZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ndWQpO1xuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgTUFYX1NJR05FRF8zMV9CSVRfSU5UID0gMTA3Mzc0MTgyMztcblxuLy8gSW5saW5lZCBPYmplY3QuaXMgcG9seWZpbGwuXG4vLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvaXNcbmZ1bmN0aW9uIG9iamVjdElzKHgsIHkpIHtcbiAgaWYgKHggPT09IHkpIHtcbiAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHggIT09IHggJiYgeSAhPT0geTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVFdmVudEVtaXR0ZXIodmFsdWUpIHtcbiAgdmFyIGhhbmRsZXJzID0gW107XG4gIHJldHVybiB7XG4gICAgb246IGZ1bmN0aW9uIG9uKGhhbmRsZXIpIHtcbiAgICAgIGhhbmRsZXJzLnB1c2goaGFuZGxlcik7XG4gICAgfSxcbiAgICBvZmY6IGZ1bmN0aW9uIG9mZihoYW5kbGVyKSB7XG4gICAgICBoYW5kbGVycyA9IGhhbmRsZXJzLmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgICAgICByZXR1cm4gaCAhPT0gaGFuZGxlcjtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdWYWx1ZSwgY2hhbmdlZEJpdHMpIHtcbiAgICAgIHZhbHVlID0gbmV3VmFsdWU7XG4gICAgICBoYW5kbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChoYW5kbGVyKSB7XG4gICAgICAgIHJldHVybiBoYW5kbGVyKHZhbHVlLCBjaGFuZ2VkQml0cyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbmZ1bmN0aW9uIG9ubHlDaGlsZChjaGlsZHJlbikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlblswXSA6IGNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVSZWFjdENvbnRleHQoZGVmYXVsdFZhbHVlLCBjYWxjdWxhdGVDaGFuZ2VkQml0cykge1xuICB2YXIgX1Byb3ZpZGVyJGNoaWxkQ29udGV4LCBfQ29uc3VtZXIkY29udGV4dFR5cGU7XG5cbiAgdmFyIGNvbnRleHRQcm9wID0gJ19fY3JlYXRlLXJlYWN0LWNvbnRleHQtJyArICgwLCBfZ3VkMi5kZWZhdWx0KSgpICsgJ19fJztcblxuICB2YXIgUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhQcm92aWRlciwgX0NvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBQcm92aWRlcigpIHtcbiAgICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQcm92aWRlcik7XG5cbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5lbWl0dGVyID0gY3JlYXRlRXZlbnRFbWl0dGVyKF90aGlzLnByb3BzLnZhbHVlKSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gICAgfVxuXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldENoaWxkQ29udGV4dCA9IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgIHZhciBfcmVmO1xuXG4gICAgICByZXR1cm4gX3JlZiA9IHt9LCBfcmVmW2NvbnRleHRQcm9wXSA9IHRoaXMuZW1pdHRlciwgX3JlZjtcbiAgICB9O1xuXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMudmFsdWUgIT09IG5leHRQcm9wcy52YWx1ZSkge1xuICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnByb3BzLnZhbHVlO1xuICAgICAgICB2YXIgbmV3VmFsdWUgPSBuZXh0UHJvcHMudmFsdWU7XG4gICAgICAgIHZhciBjaGFuZ2VkQml0cyA9IHZvaWQgMDtcblxuICAgICAgICBpZiAob2JqZWN0SXMob2xkVmFsdWUsIG5ld1ZhbHVlKSkge1xuICAgICAgICAgIGNoYW5nZWRCaXRzID0gMDsgLy8gTm8gY2hhbmdlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlZEJpdHMgPSB0eXBlb2YgY2FsY3VsYXRlQ2hhbmdlZEJpdHMgPT09ICdmdW5jdGlvbicgPyBjYWxjdWxhdGVDaGFuZ2VkQml0cyhvbGRWYWx1ZSwgbmV3VmFsdWUpIDogTUFYX1NJR05FRF8zMV9CSVRfSU5UO1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAoMCwgX3dhcm5pbmcyLmRlZmF1bHQpKChjaGFuZ2VkQml0cyAmIE1BWF9TSUdORURfMzFfQklUX0lOVCkgPT09IGNoYW5nZWRCaXRzLCAnY2FsY3VsYXRlQ2hhbmdlZEJpdHM6IEV4cGVjdGVkIHRoZSByZXR1cm4gdmFsdWUgdG8gYmUgYSAnICsgJzMxLWJpdCBpbnRlZ2VyLiBJbnN0ZWFkIHJlY2VpdmVkOiAlcycsIGNoYW5nZWRCaXRzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjaGFuZ2VkQml0cyB8PSAwO1xuXG4gICAgICAgICAgaWYgKGNoYW5nZWRCaXRzICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmVtaXR0ZXIuc2V0KG5leHRQcm9wcy52YWx1ZSwgY2hhbmdlZEJpdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBQcm92aWRlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfTtcblxuICAgIHJldHVybiBQcm92aWRlcjtcbiAgfShfcmVhY3QuQ29tcG9uZW50KTtcblxuICBQcm92aWRlci5jaGlsZENvbnRleHRUeXBlcyA9IChfUHJvdmlkZXIkY2hpbGRDb250ZXggPSB7fSwgX1Byb3ZpZGVyJGNoaWxkQ29udGV4W2NvbnRleHRQcm9wXSA9IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LmlzUmVxdWlyZWQsIF9Qcm92aWRlciRjaGlsZENvbnRleCk7XG5cbiAgdmFyIENvbnN1bWVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQyKSB7XG4gICAgX2luaGVyaXRzKENvbnN1bWVyLCBfQ29tcG9uZW50Mik7XG5cbiAgICBmdW5jdGlvbiBDb25zdW1lcigpIHtcbiAgICAgIHZhciBfdGVtcDIsIF90aGlzMiwgX3JldDI7XG5cbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb25zdW1lcik7XG5cbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIF9yZXQyID0gKF90ZW1wMiA9IChfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50Mi5jYWxsLmFwcGx5KF9Db21wb25lbnQyLCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzMiksIF90aGlzMi5zdGF0ZSA9IHtcbiAgICAgICAgdmFsdWU6IF90aGlzMi5nZXRWYWx1ZSgpXG4gICAgICB9LCBfdGhpczIub25VcGRhdGUgPSBmdW5jdGlvbiAobmV3VmFsdWUsIGNoYW5nZWRCaXRzKSB7XG4gICAgICAgIHZhciBvYnNlcnZlZEJpdHMgPSBfdGhpczIub2JzZXJ2ZWRCaXRzIHwgMDtcbiAgICAgICAgaWYgKChvYnNlcnZlZEJpdHMgJiBjaGFuZ2VkQml0cykgIT09IDApIHtcbiAgICAgICAgICBfdGhpczIuc2V0U3RhdGUoeyB2YWx1ZTogX3RoaXMyLmdldFZhbHVlKCkgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIF90ZW1wMiksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzMiwgX3JldDIpO1xuICAgIH1cblxuICAgIENvbnN1bWVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBvYnNlcnZlZEJpdHMgPSBuZXh0UHJvcHMub2JzZXJ2ZWRCaXRzO1xuXG4gICAgICB0aGlzLm9ic2VydmVkQml0cyA9IG9ic2VydmVkQml0cyA9PT0gdW5kZWZpbmVkIHx8IG9ic2VydmVkQml0cyA9PT0gbnVsbCA/IE1BWF9TSUdORURfMzFfQklUX0lOVCAvLyBTdWJzY3JpYmUgdG8gYWxsIGNoYW5nZXMgYnkgZGVmYXVsdFxuICAgICAgOiBvYnNlcnZlZEJpdHM7XG4gICAgfTtcblxuICAgIENvbnN1bWVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgaWYgKHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0W2NvbnRleHRQcm9wXS5vbih0aGlzLm9uVXBkYXRlKTtcbiAgICAgIH1cbiAgICAgIHZhciBvYnNlcnZlZEJpdHMgPSB0aGlzLnByb3BzLm9ic2VydmVkQml0cztcblxuICAgICAgdGhpcy5vYnNlcnZlZEJpdHMgPSBvYnNlcnZlZEJpdHMgPT09IHVuZGVmaW5lZCB8fCBvYnNlcnZlZEJpdHMgPT09IG51bGwgPyBNQVhfU0lHTkVEXzMxX0JJVF9JTlQgLy8gU3Vic2NyaWJlIHRvIGFsbCBjaGFuZ2VzIGJ5IGRlZmF1bHRcbiAgICAgIDogb2JzZXJ2ZWRCaXRzO1xuICAgIH07XG5cbiAgICBDb25zdW1lci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRleHRbY29udGV4dFByb3BdKSB7XG4gICAgICAgIHRoaXMuY29udGV4dFtjb250ZXh0UHJvcF0ub2ZmKHRoaXMub25VcGRhdGUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBDb25zdW1lci5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiBnZXRWYWx1ZSgpIHtcbiAgICAgIGlmICh0aGlzLmNvbnRleHRbY29udGV4dFByb3BdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHRbY29udGV4dFByb3BdLmdldCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgQ29uc3VtZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBvbmx5Q2hpbGQodGhpcy5wcm9wcy5jaGlsZHJlbikodGhpcy5zdGF0ZS52YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBDb25zdW1lcjtcbiAgfShfcmVhY3QuQ29tcG9uZW50KTtcblxuICBDb25zdW1lci5jb250ZXh0VHlwZXMgPSAoX0NvbnN1bWVyJGNvbnRleHRUeXBlID0ge30sIF9Db25zdW1lciRjb250ZXh0VHlwZVtjb250ZXh0UHJvcF0gPSBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCwgX0NvbnN1bWVyJGNvbnRleHRUeXBlKTtcblxuXG4gIHJldHVybiB7XG4gICAgUHJvdmlkZXI6IFByb3ZpZGVyLFxuICAgIENvbnN1bWVyOiBDb25zdW1lclxuICB9O1xufVxuXG5leHBvcnRzLmRlZmF1bHQgPSBjcmVhdGVSZWFjdENvbnRleHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiXSwic291cmNlUm9vdCI6IiJ9